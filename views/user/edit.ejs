<%- include('../partials/header') %>

<div class="container my-5">
  <h2 class="text-center mb-4">✏️ Edit Profile</h2>

  <form action="/user/edit" method="POST" enctype="multipart/form-data" class="edit-form">
    <div class="text-center mb-4">
      <img 
        src="/avatars/<%= user.avatar || 'default.svg' %>" 
        alt="Avatar" 
        class="rounded-circle" 
        style="width: 120px; height: 120px; object-fit: cover;"
      />
    </div>

    <div class="mb-3">
      <label>First Name</label>
      <input type="text" name="firstName" class="form-control" value="<%= user.firstName %>" required>
    </div>

    <div class="mb-3">
      <label>Last Name</label>
      <input type="text" name="lastName" class="form-control" value="<%= user.lastName %>" required>
    </div>

    <div class="mb-3">
      <label>Username</label>
      <input type="text" name="username" class="form-control" value="<%= user.username %>" required>
    </div>

    <div class="mb-3">
      <label>Email</label>
      <input type="email" name="email" class="form-control" value="<%= user.email %>" required>
    </div>

    <div class="mb-3">
      <label>Mobile</label>
      <input type="text" name="mobile" class="form-control" value="<%= user.mobile || '' %>">
    </div>

    <div class="mb-3">
      <label>Address</label>
      <input type="text" name="address" class="form-control" value="<%= user.address || '' %>">
    </div>

    <div class="mb-3">
      <label>ID Proof Number</label>
      <input type="text" name="idProofNumber" class="form-control" value="<%= user.idProofNumber || '' %>">
    </div>

    <div class="mb-3">
      <label>Change Avatar (optional)</label>
      <input type="file" name="avatar" accept="image/*" class="form-control">
    </div>

    <button type="submit" class="btn btn-success">Save Changes</button>
    <a href="/user/profile" class="btn btn-secondary ms-2">Cancel</a>
  </form>
</div>

<%- include('../partials/footer') %>
