<%- include('../partials/header') %>

<div class="admin-layout">
  <%- include('../partials/adminSidebar') %>


  <div class="admin-main">
    <h2>üéüÔ∏è Manage Coupons</h2>

    <div class="mb-3">
      <a href="/admin/coupons/new" class="btn-primary">+ New Coupon</a>
    </div>

    <!-- üìã Coupons Table -->
    <div class="coupon-table">
      <table>
        <thead>
          <tr>
            <th>Code</th>
            <th>Discount (%)</th>
            <th>Expires</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% coupons.forEach(c => { %>
            <tr>
              <td><strong><%= c.code %></strong></td>
              <td><%= c.discount %>%</td>
              <td><%= c.expiresAt.toLocaleDateString() %></td>
              <td>
                <form method="POST" action="/admin/coupons/<%= c._id %>/delete" onsubmit="return confirm('Delete this coupon?')">
                  <button class="btn-cancel btn-sm">Delete</button>
                </form>
              </td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  </div>
</div>

<%- include('../partials/footer') %>
